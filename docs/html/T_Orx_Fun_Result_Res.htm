<!DOCTYPE html []><html lang="en-US"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" href="../css/bulma.css" /><link rel="stylesheet" href="../css/font-awesome.min.css" /><link rel="stylesheet" href="../css/presentationStyle.css" /><link rel="stylesheet" href="../css/vs.min.css" /><script src="../scripts/jquery-3.5.1.min.js"></script><script src="../scripts/clipboard.min.js"></script><script src="../scripts/highlight.min.js"></script><script src="../scripts/presentationStyle.js"></script><title>Res Structure</title><meta name="Title" content="Res" /><meta name="Help.Id" content="T:Orx.Fun.Result.Res" /><meta name="Help.ContentType" content="Reference" /><meta name="container" content="Orx.Fun.Result" /><meta name="guid" content="T_Orx_Fun_Result_Res" /><meta name="Description" content="Valueless result type which can be either of the two variants: Ok or Err(error-message)." /><meta name="tocFile" content="../toc/IDA.xml" /></head><body><div class="fixedLayout"><div id="Header" class="fixedHeader"><div class="pageHeader level mb-0 py-2 px-4"><div id="TitleContainer" class="level-left"><div class="level-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/orxfun?tab=repositories"><img alt="orx" style="height: 50px;" src="../icons/orx-logo.png" /></a></div><div id="DocumentationTitle" class="level-item">Orx.Fun.Result (C#)</div></div><div id="LangFilterSearchContainer" class="level-right"><div class="level-item"><div class="dropdown is-hoverable"><div class="dropdown-trigger"><button class="button" aria-haspopup="true" aria-controls="dropdown-menu"><span id="CurrentLanguage"></span><span class="icon is-small"><i class="fa fa-angle-down" aria-hidden="true"></i></span></button></div><div class="dropdown-menu" role="menu"><div id="LanguageSelections" class="dropdown-content"><a class="dropdown-item languageFilterItem" data-languageId="cs">C#</a></div></div></div></div><div class="level-item"><form id="SearchForm" action="#" onsubmit="TransferToSearchPage(); return false;"><div class="field"><div class="control has-icons-left"><input id="SearchTerms" class="input" type="text" maxlength="200" placeholder="Search" /><span class="icon is-small is-left"><i class="fa fa-search"></i></span><button id="SearchButton" type="submit" class="is-hidden"></button></div></div></form></div></div></div></div><div class="fixedContent"><nav class="breadcrumb my-1 px-2 border-bottom" role="navigation"><ul id="TopicBreadcrumbs" /></nav><div class="columns pl-5 pr-5 fixedContent"><div id="ShowHideTOCColumn" class="column is-hidden-tablet"><a id="ShowHideTOC">Show/Hide TOC</a></div><div id="TOCColumn" class="column is-hidden-mobile"><nav class="toc"><ul id="TableOfContents" class="toc-menu" /></nav></div><div id="TopicContent" class="column content is-7"><h1>Res Structure</h1><div class="summary">
            Valueless result type which can be either of the two variants: Ok or Err(error-message).
            </div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Definition</h2><div id="IDBSection"><strong>Namespace:</strong> <a href="N_Orx_Fun_Result.htm">Orx.Fun.Result</a><br /><strong>Assembly:</strong> Orx.Fun.Result (in Orx.Fun.Result.dll) Version: 1.2.1<div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><span class="buttons"><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></span></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs"><span class="keyword">public</span> <span class="keyword">readonly</span> <span class="keyword">struct</span> <span class="identifier">Res</span></code></pre></div></div><dl class="inheritanceHierarchy"><dt>Inheritance</dt><dd><a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>  <span class="icon is-small"><i class="fa fa-arrow-right"></i></span>  <a href="https://learn.microsoft.com/dotnet/api/system.valuetype" target="_blank" rel="noopener noreferrer">ValueType</a>  <span class="icon is-small"><i class="fa fa-arrow-right"></i></span>  <span class="selflink">Res</span></dd></dl></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Constructors</h2><div id="IDAEASection"><table id="ConstructorList" class="table is-hoverable"><tr><td><a href="M_Orx_Fun_Result_Res__ctor.htm">Res</a></td><td>
            Result type which can either be Ok or Err.
            Parameterless ctor returns Ok; better use <a href="M_Orx_Fun_Result_ResultExtensions_Ok.htm">Ok<span id="LST16712E20_0" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></a> or <a href="M_Orx_Fun_Result_ResultExtensions_Err_3.htm">Err(String)</a> to construct results by adding `using static OptRes.Ext`.
            </td></tr></table></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Properties</h2><div id="ID2EASection"><table id="PropertyList" class="table is-hoverable"><tr><td><a href="P_Orx_Fun_Result_Res_IsErr.htm">IsErr</a></td><td>
            True if the result is Err; false otherwise.
            </td></tr><tr><td><a href="P_Orx_Fun_Result_Res_IsOk.htm">IsOk</a></td><td>
            True if the result is Ok; false otherwise.
            </td></tr></table></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Methods</h2><div id="IDBEASection"><table id="MethodList" class="table is-hoverable"><tr><td><a href="M_Orx_Fun_Result_Res_Do.htm">Do</a></td><td>
            Runs <span class="parameter">action</span>() only if IsOk; and returns itself back.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">User user = CreateUser(/*inputs*/);
Res result = TryPutUserToDb(user).Do(Log.Success("user created"));
// result will be:
// - Ok if TryPutUserToDb succeeds and returns Ok; in this case the success message will be logged; or
// - Err if TryPutUserToDb returns Err; and the success message log will not be called.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_DoIfErr.htm">DoIfErr(Action)</a></td><td>
            Runs <span class="parameter">action</span>() only if IsErr; and returns itself back.
            This is the counterpart of the <a href="M_Orx_Fun_Result_Res_Do.htm">Do(Action)</a> method.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">Res result = RefreshIndices(/*inputs*/).DoIfErr(() =&gt; Alert("database connection failed"));
// result will be:
// - Ok if refreshing db indices succeeded;
// - Err if it failed, in which case the Alert call will be made.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_DoIfErr_1.htm">DoIfErr(Action<span id="LST16712E20_1" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String<span id="LST16712E20_2" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Runs <span class="parameter">action</span>(error-message) only if IsErr; and returns itself back.
            This is the counterpart of the <a href="M_Orx_Fun_Result_Res_Do.htm">Do(Action)</a> method.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">Res result = RefreshIndices(/*inputs*/).DoIfErr(err =&gt;  Alert($"database connection failed: {err}"));
// result will be:
// - Ok if refreshing db indices succeeded;
// - Err if it failed, in which case the Alert call will be made.</code></pre></div></div></td></tr><tr><td><a href="https://learn.microsoft.com/dotnet/api/system.valuetype.equals#system-valuetype-equals(system-object)" target="_blank" rel="noopener noreferrer">Equals</a></td><td><br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.valuetype" target="_blank" rel="noopener noreferrer">ValueType</a>)</td></tr><tr><td><a href="M_Orx_Fun_Result_Res_ErrorMessage.htm">ErrorMessage</a></td><td>
            Returns Some(error-message) if IsErr; None&lt;string&gt;() if IsOk.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">var result = Err("failed to connect");
Assert(result.ErrorMessage() == Some("failed to connect"));</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_FlatMap.htm">FlatMap(Func<span id="LST16712E20_3" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Res<span id="LST16712E20_4" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Returns the error when IsErr; <span class="parameter">map</span>() when IsOk, flattenning the result.
            This is a shorthand for sequential Map and Flatten calls.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">// assume we have two methods that can fail; hence returns a Res:
static Res TryRunRiskyOperation() { .. }
static Res TryLogCompletion() { .. }

// we want to call both operations; but the second one only if the first one succeeds.
Res result = TryRunRiskyOperation().FlatMap(TryLogCompletion);
// alternatively:
Res result = TryRunRiskyOperation().FlatMap(() =&gt; TryLogCompletion());

// this is equivalent to:
Res result = TryRunRiskyOperation().Map(() =&gt; TryLogCompletion()/*Res&lt;Res&gt;*/).Flatten()/*Res*/;</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_FlatMap__1.htm">FlatMap<span id="LST16712E20_5" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_6" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(Func<span id="LST16712E20_7" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Res<span id="LST16712E20_8" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_9" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span><span id="LST16712E20_10" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Returns the error when IsErr; <span class="parameter">map</span>() when IsOk, flattenning the result.
            This is a shorthand for sequential Map and Flatten calls.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">// assume we have two methods that can fail; hence returns a Res:
static Res TryRunRiskyOperation() { .. }
static Res&lt;int&gt; TryGetCount() { .. }

// we want to call both operations; but the second one only if the first one succeeds.
Res result = TryRunRiskyOperation().FlatMap(TryGetCount);
// alternatively:
Res result = TryRunRiskyOperation().FlatMap(() =&gt; TryGetCount());

// this is equivalent to:
Res result = TryRunRiskyOperation().Map(() =&gt; TryGetCount()/*Res&lt;Res&lt;int&gt;&gt;*/).Flatten()/*Res&lt;int&gt;*/;</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_FlatMapAsync.htm">FlatMapAsync(Func<span id="LST16712E20_11" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Task<span id="LST16712E20_12" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Res<span id="LST16712E20_13" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span><span id="LST16712E20_14" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            (async version) 
            Returns the error when IsErr; <span class="parameter">map</span>() when IsOk, flattenning the result.
            This is a shorthand for sequential Map and Flatten calls.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">// assume we have two methods that can fail; hence returns a Res:
static Res TryRunRiskyOperation() { .. }
static Res TryLogCompletion() { .. }

// we want to call both operations; but the second one only if the first one succeeds.
Res result = TryRunRiskyOperation().FlatMap(TryLogCompletion);
// alternatively:
Res result = TryRunRiskyOperation().FlatMap(() =&gt; TryLogCompletion());

// this is equivalent to:
Res result = TryRunRiskyOperation().Map(() =&gt; TryLogCompletion()/*Res&lt;Res&gt;*/).Flatten()/*Res*/;</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_FlatMapAsync__1.htm">FlatMapAsync<span id="LST16712E20_15" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_16" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(Func<span id="LST16712E20_17" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Task<span id="LST16712E20_18" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Res<span id="LST16712E20_19" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_20" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span><span id="LST16712E20_21" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span><span id="LST16712E20_22" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            (async version) 
            Returns the error when IsErr; <span class="parameter">map</span>() when IsOk, flattenning the result.
            This is a shorthand for sequential Map and Flatten calls.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">// assume we have two methods that can fail; hence returns a Res:
static Res TryRunRiskyOperation() { .. }
static Res&lt;int&gt; TryGetCount() { .. }

// we want to call both operations; but the second one only if the first one succeeds.
Res result = TryRunRiskyOperation().FlatMap(TryGetCount);
// alternatively:
Res result = TryRunRiskyOperation().FlatMap(() =&gt; TryGetCount());

// this is equivalent to:
Res result = TryRunRiskyOperation().Map(() =&gt; TryGetCount()/*Res&lt;Res&lt;int&gt;&gt;*/).Flatten()/*Res&lt;int&gt;*/;</code></pre></div></div></td></tr><tr><td><a href="https://learn.microsoft.com/dotnet/api/system.valuetype.gethashcode#system-valuetype-gethashcode" target="_blank" rel="noopener noreferrer">GetHashCode</a></td><td><br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.valuetype" target="_blank" rel="noopener noreferrer">ValueType</a>)</td></tr><tr><td><a href="https://learn.microsoft.com/dotnet/api/system.object.gettype#system-object-gettype" target="_blank" rel="noopener noreferrer">GetType</a></td><td><br />(Inherited from <a href="https://learn.microsoft.com/dotnet/api/system.object" target="_blank" rel="noopener noreferrer">Object</a>)</td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Map__1.htm">Map<span id="LST16712E20_23" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_24" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            Returns the error when IsErr; Ok(<span class="parameter">map</span>()) when IsOk.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">Res ValidateInputs(Inputs inputs) { /*checks*/ }
Output CalcOutput(Inputs inputs) { /*maps inputs to output*/ }

Inputs inputs = GetInputs();
Res&lt;Output&gt; output = ValidateInputs(inputs).Map(() =&gt; CalcOutput(inputs));
// output will be:
// - Err if ValidateInputs returns Err omitting the call to CalcOutput;
// - Ok(CalcOutput(inputs)) if ValidateInputs returns Ok.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_MapAsync__1.htm">MapAsync<span id="LST16712E20_25" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_26" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            (async version) 
            Returns the error when IsErr; Ok(<span class="parameter">map</span>()) when IsOk.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">Res ValidateInputs(Inputs inputs) { /*checks*/ }
Output CalcOutput(Inputs inputs) { /*maps inputs to output*/ }

Inputs inputs = GetInputs();
Res&lt;Output&gt; output = ValidateInputs(inputs).Map(() =&gt; CalcOutput(inputs));
// output will be:
// - Err if ValidateInputs returns Err omitting the call to CalcOutput;
// - Ok(CalcOutput(inputs)) if ValidateInputs returns Ok.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Match__1.htm">Match<span id="LST16712E20_27" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_28" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(Func<span id="LST16712E20_29" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_30" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, Func<span id="LST16712E20_31" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, TOut<span id="LST16712E20_32" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Maps into <span class="parameter">whenOk</span>() lazily whenever IsOk; and into <span class="parameter">whenErr</span>(errorMessage) otherwise.
            Similar to <a href="M_Orx_Fun_Result_Res_Match__1_1.htm">Match<span id="LST16712E20_33" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_34" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(TOut, Func<span id="LST16712E20_35" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, TOut<span id="LST16712E20_36" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a> except that whenOk is lazy and evaluated only when IsOk.
            </td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Match__1_1.htm">Match<span id="LST16712E20_37" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_38" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(TOut, Func<span id="LST16712E20_39" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, TOut<span id="LST16712E20_40" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Maps into <span class="parameter">whenOk</span> whenever IsOk; and into <span class="parameter">whenErr</span>(errorMessage) otherwise.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">Res&lt;User&gt; user = TryGetUser(..);
string greetingMessage = user.Match("Welcome", err =&gt; $"Error getting the user: {err}");</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_MatchAsync__1.htm">MatchAsync<span id="LST16712E20_41" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_42" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            (async version) 
            Maps into <span class="parameter">whenOk</span>() lazily whenever IsOk; and into <span class="parameter">whenErr</span>(errorMessage) otherwise.
            Similar to <a href="M_Orx_Fun_Result_Res_Match__1_1.htm">Match<span id="LST16712E20_43" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_44" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(TOut, Func<span id="LST16712E20_45" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, TOut<span id="LST16712E20_46" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a> except that whenOk is lazy and evaluated only when IsOk.
            </td></tr><tr><td><a href="M_Orx_Fun_Result_Res_MatchDo.htm">MatchDo</a></td><td>
            Executes <span class="parameter">whenOk</span>() whenever IsOk; and <span class="parameter">whenErr</span>(errorMessage) otherwise.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">Res&lt;User&gt; user = TryGetUser(..);
user.MatchDo
(
    whenOk: () =&gt; Log.Info("New user login"),
    whenErr: err =&gt; Log.Error($"Failed login. {err}")
);</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_OkIf.htm">OkIf(Boolean, String)</a></td><td>
            Returns back the Err if this is Err.
            Otherwise, returns Ok if <span class="parameter">okCondition</span> holds; Err if it does not hold.
            Especially useful in fluent input validation.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res&lt;User&gt; Login(string username, string passwordHash)
{
    return OkIf(!string.IsNullOrEmpty(username))    // validate username
        .OkIf(!string.IsNullOrEmpty(passwordHash))  // validate password-hash
        .OkIf(userRepo.ContainsKey(username))       // further validate user
        .Map(() =&gt; GetUser(username, password));    // finally map into actual result;
                                                    // any Err in validation steps will directly be mapped to Err, avoiding GetUser call.
}</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_OkIf_1.htm">OkIf(Func<span id="LST16712E20_47" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST16712E20_48" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, String)</a></td><td><p>Lazy counterpart of <a href="M_Orx_Fun_Result_Res_OkIf.htm">OkIf(Boolean, String)</a> where condition is evaluated only if this is Ok.</p>
            
            Returns back the Err if this is Err.
            Otherwise, returns Ok if <span class="parameter">lazyOkCondition</span> holds; Err if it does not hold.
            Especially useful in fluent input validation.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res&lt;User&gt; Login(string username, string passwordHash)
{
    return OkIf(!string.IsNullOrEmpty(username))    // validate username
        .OkIf(!string.IsNullOrEmpty(passwordHash))  // validate password-hash
        .OkIf(() =&gt; userRepo.ContainsKey(username)) // further validate user; assume this is an expensive call, so we prefer the lazy variant
        .Map(() =&gt; GetUser(username, password));    // finally map into actual result;
                                                    // any Err in validation steps will directly be mapped to Err, avoiding GetUser call.
}</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Or_1.htm">Or(Func<span id="LST16712E20_49" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Res<span id="LST16712E20_50" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            (lazy version) 
            Combines two results: this and <span class="parameter">other</span> as follows:
            <ul><li>returns this if this is Ok;</li><li>returns <span class="parameter">other</span> otherwise.</li></ul><div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">var or = Ok().Or(Ok());
Assert.True(or.IsOk);

or = Ok().Or(Err("error-message"));
Assert.True(or.IsOk);

or = Err("error-message").Or(Ok());
Assert.True(or.IsOk);

or = Err("error-message").Or(Err("second-error-message"));
Assert.True(or.IsErr);
Assert.Equal(Some("second-error-message"), or.ErrorMessage());</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Or.htm">Or(Res)</a></td><td>
            Combines two results: this and <span class="parameter">other</span> as follows:
            <ul><li>returns this if this is Ok;</li><li>returns <span class="parameter">other</span> otherwise.</li></ul><div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">var or = Ok().Or(Ok());
Assert.True(or.IsOk);

or = Ok().Or(Err("error-message"));
Assert.True(or.IsOk);

or = Err("error-message").Or(Ok());
Assert.True(or.IsOk);

or = Err("error-message").Or(Err("second-error-message"));
Assert.True(or.IsErr);
Assert.Equal(Some("second-error-message"), or.ErrorMessage());</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Pure.htm">Pure</a></td><td>
            Simply returns Ok function: () =&gt; Ok().
            Useful for composing functions of Res type.
            </td></tr><tr><td><a href="M_Orx_Fun_Result_Res_ThrowIfErr.htm">ThrowIfErr<span id="LST16712E20_51" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></a></td><td>
            Returns the result back when <a href="P_Orx_Fun_Result_Res_IsOk.htm">IsOk</a>; throws NullReferenceException when <a href="P_Orx_Fun_Result_Res_IsErr.htm">IsErr</a>.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res MakeApiCall() {
    // method that makes an api call.
    // might fail; hence, returns a Res rather than void.
}
var result = MakeApiCall().ThrowIfErr();
// result will be:
// - Ok() if MakeApiCall succeeds and returns Ok;
// - the application will throw a NullReferenceException otherwise.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_ThrowIfErr__1.htm">ThrowIfErr<span id="LST16712E20_52" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>E<span id="LST16712E20_53" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>(Func<span id="LST16712E20_54" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, E<span id="LST16712E20_55" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Returns the result back when <a href="P_Orx_Fun_Result_Res_IsOk.htm">IsOk</a>; throws an exception of <span class="parameter">E</span> when <a href="P_Orx_Fun_Result_Res_IsErr.htm">IsErr</a>.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res MakeApiCall() {
    // method that makes an api call.
    // might fail; hence, returns a Res rather than void.
}
var result = MakeApiCall().ThrowIfErr&lt;HttpRequestException&gt;(err =&gt; new(err));
// result will be:
// - Ok() if MakeApiCall succeeds and returns Ok;
// - the application will throw HttpRequestException created by the provided delegate otherwise.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_ToErrOf__1.htm">ToErrOf<span id="LST16712E20_56" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_57" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            Converts the result to Err&lt;TOut&gt; regardless of state of this result:
            <ul><li>The error message will be carried on when this is of Err variant,</li><li>A generic error message will be created otherwise.</li></ul></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_ToString.htm">ToString</a></td><td>
            String representation.
            <br />(Overrides <a href="https://learn.microsoft.com/dotnet/api/system.valuetype.tostring#system-valuetype-tostring" target="_blank" rel="noopener noreferrer">ValueType<span id="LST16712E20_58" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>ToString<span id="LST16712E20_59" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></a>)</td></tr><tr><td><a href="M_Orx_Fun_Result_Res_Try.htm">Try</a></td><td>
            When IsOk executes <span class="parameter">action</span>() in a try-catch block: returns back itself if the process succeeds; Err if it throws.
            Does not do anything and returns back itself when IsErr.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res TryLogin() { .. }
static void ClearSessionHistory() { /*risky function, might throw!*/ }

var result = TryLogin().Try(ClearSessionHistory);
// the result will be:
// - Err if TryLogin returns Err, in which case ClearSessionHistory is never called;
// - Ok if TryLogin returns Ok; and ClearSessionHistory call succeeds without an exception;
// - Err if TryLogin returns Ok, but ClearSessionHistory throws an exception.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_TryAsync.htm">TryAsync</a></td><td>
            (async version) 
            When IsOk executes <span class="parameter">action</span>() in a try-catch block: returns back itself if the process succeeds; Err if it throws.
            Does not do anything and returns back itself when IsErr.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res TryLogin() { .. }
static void ClearSessionHistory() { /*risky function, might throw!*/ }

var result = TryLogin().Try(ClearSessionHistory);
// the result will be:
// - Err if TryLogin returns Err, in which case ClearSessionHistory is never called;
// - Ok if TryLogin returns Ok; and ClearSessionHistory call succeeds without an exception;
// - Err if TryLogin returns Ok, but ClearSessionHistory throws an exception.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_TryFlatMap__1.htm">TryFlatMap<span id="LST16712E20_60" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_61" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            Returns the error when IsErr.
            Otherwise, tries to return <span class="parameter">map</span>(val) in a try-catch block and returns the Err if it throws.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res&lt;User&gt; TryGetUser() { .. }
static Res&lt;long&gt; PutUserToDbGetId(User user) {
    // method that writes the user to a database table and returns back the auto-generated id/primary-key
    // might throw in cases of connection errors!
}

Res&lt;long&gt; id = TryGetUser().TryFlatMap(PutUserToDbGetId);
// equivalently:
Res&lt;long&gt; id = TryGetUser().TryFlatMap(user =&gt; PutUserToDbGetId(user));
// Res&lt;long&gt; id will be:
// - Err(called on Err) when TryGetUser returns Err,
// - Err(relevant error message) when TryGetUser returns Ok(user) but PutUserToDbGetId returns an Err,
// - Err(relevant error message) when TryGetUser returns Ok(user) but the database transaction throws an exception,
// - Ok(id) when TryGetUser returns Ok(user), the database transaction succeeds and returns the auto-generated id.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_TryFlatMapAsync__1.htm">TryFlatMapAsync<span id="LST16712E20_62" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_63" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            (async version) 
            Returns the error when IsErr.
            Otherwise, tries to return <span class="parameter">map</span>(val) in a try-catch block and returns the Err if it throws.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res&lt;User&gt; TryGetUser() { .. }
static Res&lt;long&gt; PutUserToDbGetId(User user) {
    // method that writes the user to a database table and returns back the auto-generated id/primary-key
    // might throw in cases of connection errors!
}

Res&lt;long&gt; id = TryGetUser().TryFlatMap(PutUserToDbGetId);
// equivalently:
Res&lt;long&gt; id = TryGetUser().TryFlatMap(user =&gt; PutUserToDbGetId(user));
// Res&lt;long&gt; id will be:
// - Err(called on Err) when TryGetUser returns Err,
// - Err(relevant error message) when TryGetUser returns Ok(user) but PutUserToDbGetId returns an Err,
// - Err(relevant error message) when TryGetUser returns Ok(user) but the database transaction throws an exception,
// - Ok(id) when TryGetUser returns Ok(user), the database transaction succeeds and returns the auto-generated id.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_TryMap__1.htm">TryMap<span id="LST16712E20_64" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_65" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            Returns the error when IsErr.
            Otherwise, tries to map into Ok(<span class="parameter">map</span>()) in a try-catch block and returns the Err if it throws.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res ValidateUser(User user) { /*returns Ok if valid; Err o/w*/ }
static Res&lt;Secret&gt; TryGetSecrets(User user) { /*returns Ok(secrets) if succeds; Err if fails to get secrets*/ }

User user = GetUser(..);
var secrets = ValidateUser(user).TryMap(() =&gt; TryGetSecrets(user));
// TryGetSecrets will be called only if ValidateUser call returns Ok;
// secrets will be Ok of the grabbed secrets if both ValidateUser and TryGetSecrets return Ok.</code></pre></div></div></td></tr><tr><td><a href="M_Orx_Fun_Result_Res_TryMapAsync__1.htm">TryMapAsync<span id="LST16712E20_66" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>TOut<span id="LST16712E20_67" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span></a></td><td>
            (async version) 
            Returns the error when IsErr.
            Otherwise, tries to map into Ok(<span class="parameter">map</span>()) in a try-catch block and returns the Err if it throws.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">static Res ValidateUser(User user) { /*returns Ok if valid; Err o/w*/ }
static Res&lt;Secret&gt; TryGetSecrets(User user) { /*returns Ok(secrets) if succeds; Err if fails to get secrets*/ }

User user = GetUser(..);
var secrets = ValidateUser(user).TryMap(() =&gt; TryGetSecrets(user));
// TryGetSecrets will be called only if ValidateUser call returns Ok;
// secrets will be Ok of the grabbed secrets if both ValidateUser and TryGetSecrets return Ok.</code></pre></div></div></td></tr></table></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Operators</h2><div id="IDMEASection"><table id="OperatorList" class="table is-hoverable"><tr><td><a href="M_Orx_Fun_Result_Res_op_BitwiseOr.htm">BitwiseOr(Res, Func<span id="LST16712E20_68" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Res<span id="LST16712E20_69" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td><p>Limited ahd experimental for now; waiting for generics in operator overloading to be actually useful.</p>
    
            Returns the error when IsErr; <span class="parameter">map</span>() when IsOk, flattenning the result.
            This is a shorthand for sequential Map and Flatten calls.
            <div class="codeSnippet"><div class="codeHeader"><span class="codeHeaderTitle">C#</span><button class="button is-small is-light copyCode" title="Copy"><span class="icon is-small"><i class="fa fa-copy"></i></span><span>Copy</span></button></div><div class="codePanel hljs"><pre xml:space="preserve"><code class="language-cs">// assume we have two methods that can fail; hence returns a Res:
static Res TryRunRiskyOperation() { .. }
static Res TryLogCompletion() { .. }

// we want to call both operations; but the second one only if the first one succeeds.
Res result = TryRunRiskyOperation().FlatMap(TryLogCompletion);
// alternatively:
Res result = TryRunRiskyOperation().FlatMap(() =&gt; TryLogCompletion());

// this is equivalent to:
Res result = TryRunRiskyOperation().Map(() =&gt; TryLogCompletion()/*Res&lt;Res&gt;*/).Flatten()/*Res*/;</code></pre></div></div></td></tr></table></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>See Also</h2><div id="seeAlsoSection"><h4>Reference</h4><div><a href="N_Orx_Fun_Result.htm">Orx.Fun.Result Namespace</a></div></div></div><div id="InThisArticleColumn" class="column is-hidden-mobile"><nav class="menu sticky is-hidden"><p class="menu-label"><strong>In This Article</strong></p><ul id="InThisArticleMenu" class="menu-list"><li><a class="quickLink">Definition</a></li><li><a class="quickLink">Constructors</a></li><li><a class="quickLink">Properties</a></li><li><a class="quickLink">Methods</a></li><li><a class="quickLink">Operators</a></li><li><a class="quickLink">See Also</a></li></ul></nav></div></div></div><footer id="PageFooter" class="footer border-top py-3 fixedFooter"><div class="columns"><div class="column">https://github.com/orxfun/orx-fun-result<div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:orx.ugur.arikan%40gmail.com?Subject=Orx.Fun.Result%20(C#)">orx.ugur.arikan@gmail.com</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        </script> 
				</div><div class="column"> 
				</div></div></footer></div><script>$(function(){
SetDefaultLanguage("cs");
LoadTocFile(null, null);
InitializeQuickLinks();

$(".toggleSection" ).click(function () {
    SectionExpandCollapse(this);
});

$(".toggleSection").keypress(function () {
    SectionExpandCollapseCheckKey(this, event)
});
hljs.highlightAll();
});</script></body></html>